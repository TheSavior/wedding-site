{"version":3,"sources":["webpack:///./src/pages/login.js"],"names":["Image","data","fluid","placeholderImage","childImageSharp","style","height","LoginPage","value","setValue","useState","enteredSuccessfully","setEnteredSuccessfully","autoCapitalize","className","type","onChange","e","target","placeholder","password","passwordInput","useEffect","success","handleLogin","setTimeout","navigate","position","title","left","margin","top","transform","fontSize","key","addEndListener","node","done","addEventListener","classNames","role","aria-label"],"mappings":"knDAyBA,IAAMA,EAAQ,WACZ,IAAMC,EAAI,OAYV,OACE,kBAAC,IAAD,CACEC,MAAOD,EAAKE,iBAAiBC,gBAAgBF,MAC7CG,MAAO,CAAEC,OAAQ,YAkERC,UA7DG,WAAO,IArCL,EACXC,EAAOC,EAoCQ,EACgCC,oBAAS,GAAxDC,EADe,KACMC,EADN,QArCJ,EACQF,mBAAS,IAA5BF,EADW,KACJC,EADI,KAaX,CAACD,EAVN,2BACEK,eAAe,MACfC,UAAU,iBACVC,KAAK,OACLC,SAAU,SAAAC,GAAC,OAAIR,EAASQ,EAAEC,OAAOV,QACjCA,MAAOA,EACPW,YAAY,qBA8BTC,EAFe,KAELC,EAFK,KAiBtB,OAbAC,qBAAU,WACR,IAAMC,EAAUC,YAAY,CAC1BJ,SAAUA,IAGRG,IACFX,EAAuBW,GACvBE,YAAW,WACTC,mBAAS,OACR,QAEJ,CAACN,IAGF,oCACE,yBAAKf,MAAO,CAAEsB,SAAU,aACtB,kBAAC,IAAD,CAAKC,MAAM,UACX,kBAAC5B,EAAD,MACA,yBACEK,MAAO,CACLwB,KAAM,MACNC,OAAQ,OACRH,SAAU,WACVI,IAAK,OACLC,UAAW,mBACXC,SAAU,KAGZ,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,IAAKvB,EAAsB,UAAY,WACvCwB,eAAgB,SAACC,EAAMC,GAAP,OACdD,EAAKE,iBAAiB,gBAAiBD,GAAM,IAE/CE,WAAW,QAEV5B,EACC,0BACEN,MAAO,CACL4B,SAAU,IAEZO,KAAK,MACLC,aAAW,WALb,MAUApB","file":"component---src-pages-login-js-6a2453f55aa6a2518bd3.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { navigate, useStaticQuery, graphql } from 'gatsby';\nimport Img from 'gatsby-image';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\nimport './login.css';\n\nimport { handleLogin } from '../services/auth';\nimport SEO from '../components/seo';\n\nfunction useInput() {\n  const [value, setValue] = useState('');\n  const input = (\n    <input\n      autoCapitalize=\"off\"\n      className=\"password-field\"\n      type=\"text\"\n      onChange={e => setValue(e.target.value)}\n      value={value}\n      placeholder=\"Enter Password\"\n    />\n  );\n\n  return [value, input];\n}\n\nconst Image = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      placeholderImage: file(relativePath: { eq: \"proposal.jpg\" }) {\n        childImageSharp {\n          fluid(maxWidth: 1500) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n    }\n  `);\n\n  return (\n    <Img\n      fluid={data.placeholderImage.childImageSharp.fluid}\n      style={{ height: '100vh' }}\n    />\n  );\n};\n\nconst LoginPage = () => {\n  const [enteredSuccessfully, setEnteredSuccessfully] = useState(false);\n  const [password, passwordInput] = useInput();\n\n  useEffect(() => {\n    const success = handleLogin({\n      password: password,\n    });\n\n    if (success) {\n      setEnteredSuccessfully(success);\n      setTimeout(() => {\n        navigate(`/`);\n      }, 2000);\n    }\n  }, [password]);\n\n  return (\n    <>\n      <div style={{ position: 'relative' }}>\n        <SEO title=\"Login\" />\n        <Image />\n        <div\n          style={{\n            left: '50%',\n            margin: 'auto',\n            position: 'absolute',\n            top: '70vh',\n            transform: 'translateX(-50%)',\n            fontSize: 30,\n          }}\n        >\n          <SwitchTransition>\n            <CSSTransition\n              key={enteredSuccessfully ? 'success' : 'password'}\n              addEndListener={(node, done) =>\n                node.addEventListener('transitionend', done, false)\n              }\n              classNames=\"fade\"\n            >\n              {enteredSuccessfully ? (\n                <span\n                  style={{\n                    fontSize: 60,\n                  }}\n                  role=\"img\"\n                  aria-label=\"success\"\n                >\n                  üòç\n                </span>\n              ) : (\n                passwordInput\n              )}\n            </CSSTransition>\n          </SwitchTransition>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default LoginPage;\n"],"sourceRoot":""}