{"version":3,"sources":["webpack:///./src/pages/login.js"],"names":["styles","input","width","padding","marginBottom","incorrect","submit","fontFamily","backgroundColor","color","fontSize","border","LoginPage","useState","enteredSuccessfully","setEnteredSuccessfully","useInput","autoCapitalize","placeholder","style","password","passwordInput","useEffect","title","className","marginTop","position","onSubmit","event","preventDefault","success","handleLogin","setTimeout","navigate","key","addEndListener","node","done","addEventListener","classNames","verticalAlign","role","aria-label","type"],"mappings":"2FAAA,gIAuGMA,EAAS,CACbC,MAAO,CACLC,MAAO,QACPC,QAAS,gBACTC,aAAc,4CAEhBC,UAAW,CACTD,aAAc,GAEhBE,OAAQ,CACNC,WAAY,wBACZC,gBAAiB,sBACjBC,MAAO,QACPN,QAAS,gBACTO,SAAU,OACVC,OAAQ,IAIGC,UAhHG,WAAO,IAAD,EACgCC,mBAAS,MAAxDC,EADe,KACMC,EADN,OAE8BC,YAAS,CAC3DC,eAAgB,MAChBC,YAAa,WACbC,MAAOnB,EAAOC,QAHTmB,EAFe,KAELC,EAFK,UAQtBC,qBAAU,YAEoB,IAAxBR,GACFC,EAAuB,QAExB,CAACK,IAiBJ,OACE,oCACE,kBAAC,IAAD,CAAKG,MAAM,UACX,yBAAKC,UAAU,YACf,yBAAKA,UAAU,UAAUL,MAAO,CAAEM,UAAW,WAC3C,yBACED,UAAU,kCACVL,MAAO,CAAEO,SAAU,aAEnB,wBAAIF,UAAU,WAAd,WACA,uBACEL,MAAO,CACLf,aAAc,6CAFlB,6FAQA,0BAAMuB,SAjCO,SAAAC,GACnBA,EAAMC,iBAEN,IAAMC,EAAUC,YAAY,CAC1BX,SAAUA,IAGZL,EAAuBe,GACnBA,GACFE,YAAW,WACTC,mBAAS,OACR,OAuBG,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAA6B,IAAxBpB,EAA+B,UAAY,WAChDqB,eAAgB,SAACC,EAAMC,GAAP,OACdD,EAAKE,iBAAiB,gBAAiBD,GAAM,IAE/CE,WAAW,QAEVzB,EACC,0BACEK,MAAO,CACLT,SAAU,GACV8B,cAAe,YAEjBC,KAAK,MACLC,aAAW,WANb,MAWArB,IAIN,4BACA,4BAAQsB,KAAK,SAASxB,MAAOnB,EAAOM,QAApC,WAKF,uBACEkB,UAAS,iBACiB,IAAxBV,EAAgC,cAAgB,IAElDK,MAAOnB,EAAOK,WAJhB","file":"component---src-pages-login-js-b73933252173807b6073.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { navigate } from 'gatsby';\nimport { SwitchTransition, CSSTransition } from 'react-transition-group';\nimport './login.css';\n\nimport { handleLogin } from '../services/auth';\nimport SEO from '../components/seo';\nimport GetUpdatesSection from '../components/getUpdatesSection';\nimport useInput from '../hooks/useInput';\n\nconst LoginPage = () => {\n  const [enteredSuccessfully, setEnteredSuccessfully] = useState(null);\n  const [password, passwordInput, passwordInputRef] = useInput({\n    autoCapitalize: 'off',\n    placeholder: 'password',\n    style: styles.input,\n  });\n\n  useEffect(() => {\n    // When one character is entered, reset this state\n    if (enteredSuccessfully === false) {\n      setEnteredSuccessfully(null);\n    }\n  }, [password]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const success = handleLogin({\n      password: password,\n    });\n\n    setEnteredSuccessfully(success);\n    if (success) {\n      setTimeout(() => {\n        navigate(`/`);\n      }, 2000);\n    }\n  };\n\n  return (\n    <>\n      <SEO title=\"Login\" />\n      <div className=\"section\"></div>\n      <div className=\"section\" style={{ marginTop: '1.5rem' }}>\n        <div\n          className=\"section-container narrow-column\"\n          style={{ position: 'relative' }}\n        >\n          <h3 className=\"cursive\">Welcome</h3>\n          <p\n            style={{\n              marginBottom: 'calc(24px * var(--font-size-multiplier))',\n            }}\n          >\n            Please enter the password from your Save the Date postcard for\n            access to wedding details.\n          </p>\n          <form onSubmit={handleSubmit}>\n            <SwitchTransition>\n              <CSSTransition\n                key={enteredSuccessfully === true ? 'success' : 'password'}\n                addEndListener={(node, done) =>\n                  node.addEventListener('transitionend', done, false)\n                }\n                classNames=\"fade\"\n              >\n                {enteredSuccessfully ? (\n                  <span\n                    style={{\n                      fontSize: 60,\n                      verticalAlign: 'text-top',\n                    }}\n                    role=\"img\"\n                    aria-label=\"success\"\n                  >\n                    üòç\n                  </span>\n                ) : (\n                  passwordInput\n                )}\n              </CSSTransition>\n            </SwitchTransition>\n            <p />\n            <button type=\"submit\" style={styles.submit}>\n              Submit\n            </button>\n          </form>\n\n          <p\n            className={`accent fade ${\n              enteredSuccessfully === false ? 'fade-active' : ''\n            }`}\n            style={styles.incorrect}\n          >\n            Whoops! You've entered the wrong password.\n          </p>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst styles = {\n  input: {\n    width: '350px',\n    padding: '10px 20px 5px',\n    marginBottom: 'calc(10px * var(--font-size-multiplier))',\n  },\n  incorrect: {\n    marginBottom: 0,\n  },\n  submit: {\n    fontFamily: 'MrsEavesAllPetiteCaps',\n    backgroundColor: 'var(--accent-color)',\n    color: 'white',\n    padding: '10px 55px 5px',\n    fontSize: '28px',\n    border: 0,\n  },\n};\n\nexport default LoginPage;\n"],"sourceRoot":""}